<?xml version="1.0" encoding="UTF-8"?>
<configuration>
	<system.webServer>
		<!--
		<httpProtocol>
			<customHeaders>
				<add name="Access-Control-Allow-Origin" value="*" />
				<add name="Access-Control-Allow-Headers" value="Content-Type" />
				<add name="Access-Control-Allow-Methods" value="GET,POST,PUT,DELETE,OPTIONS" />
				<add name="Access-Control-Allow-Credentials" value="true" />
			</customHeaders>
		</httpProtocol> 
		-->
		<security>
			<requestFiltering>
				<hiddenSegments>
					<remove segment="bin" />
				</hiddenSegments>
			</requestFiltering>
		</security>
		<!-- indicates that the server.js file is a node.js application
        to be handled by the iisnode module -->
		<handlers>
			<add name="iisnodeterm" path="gibl_life.js" verb="*" modules="iisnode" />
		</handlers>
		<rewrite>
			<rules>
				<rule name="sendToNode1">
					<match url="/*" />
					<action type="Rewrite" url="/bin/gibl_life.js" />
				</rule>
			</rules>
		</rewrite>

		<iisnode nodeProcessCommandLine="C:\Program Files\nodejs\node.exe"
			watchedFiles="web.config;*.js" node_env="%node_env%"
			nodeProcessCountPerApplication="1"
			maxConcurrentRequestsPerProcess="1024"
			maxNamedPipeConnectionRetry="100"
			namedPipeConnectionRetryDelay="250"
			maxNamedPipeConnectionPoolSize="512"
			maxNamedPipePooledConnectionAge="30000"
			asyncCompletionThreadCount="0"
			initialRequestBufferSize="4096"
			maxRequestBufferSize="65536"
			uncFileChangesPollingInterval="5000"
			gracefulShutdownTimeout="60000"
			loggingEnabled="true"
			logDirectory="iisnode"
			debuggingEnabled="true"
			debugHeaderEnabled="false"
			debuggerPathSegment="debug"
			maxLogFileSizeInKB="128"
			maxTotalLogFileSizeInKB="1024"
			maxLogFiles="20"
			devErrorsEnabled="true"
			flushResponse="false"
			enableXFF="false"
			configOverrides="iisnode.yml" />
	</system.webServer>
</configuration>